@{
    ViewData["Title"] = "AI Antrenör";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-5">
            <div class="card shadow-lg mb-4">
                <div class="card-header bg-primary text-white py-3">
                    <h5 class="m-0 fw-bold"><i class="bi bi-robot"></i> Yapay Zeka Antrenör</h5>
                </div>
                <div class="card-body p-4">
                    <p class="text-muted small mb-4">Vücut ölçülerini gir, hedefini menüden seç ve programını al.</p>

                    <form asp-controller="YapayZeka" asp-action="Danis" method="post">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <label class="form-label fw-bold">Yaş</label>
                                <input type="number" name="yas" class="form-control" value="@ViewBag.EskiYas" required placeholder="25">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label fw-bold">Boy (cm)</label>
                                <input type="number" name="boy" class="form-control" value="@ViewBag.EskiBoy" required placeholder="180">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label fw-bold">Kilo (kg)</label>
                                <input type="number" name="kilo" class="form-control" value="@ViewBag.EskiKilo" required placeholder="80">
                            </div>
                        </div>

                        <div class="mt-3">
                            <label class="form-label fw-bold">Cinsiyet</label>
                            <select name="cinsiyet" class="form-select">
                                <option value="Erkek">Erkek</option>
                                <option value="Kadın">Kadın</option>
                            </select>
                        </div>

                        <div class="mt-3">
                            <label class="form-label fw-bold">Hedefin Nedir?</label>
                            <select name="hedef" class="form-select">
                                <option value="Kilo Vermek (Yağ Yakımı)">Kilo Vermek (Yağ Yakımı)</option>
                                <option value="Kas Yapmak (Hipertrofi)">Kas Yapmak (Hipertrofi)</option>
                                <option value="Fit ve Sıkı Görünmek">Fit ve Sıkı Görünmek</option>
                                <option value="Güç Kazanmak (Powerlifting)">Güç Kazanmak (Powerlifting)</option>
                                <option value="Kondisyon Arttırmak">Kondisyon Arttırmak</option>
                                <option value="Kilo Almak (Hacim)">Kilo Almak (Clean Bulk)</option>
                            </select>
                        </div>

                        <div class="form-check form-switch mt-3">
                            <input class="form-check-input" type="checkbox" id="gorselIste" name="gorselIste" value="true" checked>
                            <label class="form-check-label" for="gorselIste">Hedef Vücut Görseli de Oluştur</label>
                        </div>

                        <div class="d-grid gap-2 mt-4">
                            <button type="submit" class="btn btn-primary btn-lg hover-scale">
                                <i class="bi bi-magic"></i> Programı Hazırla
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-7">
            @if (ViewBag.Cevap != null)
            {
                <div class="card shadow-lg border-0">
                    <div class="card-body">
                        <h4 class="card-title text-success mb-3"><i class="bi bi-check-circle-fill"></i> Senin İçin Hazırlanan Program</h4>

                        @if (ViewBag.ResimUrl != null)
                        {
                            <div class="card mb-4 border-0 shadow-sm overflow-hidden">
                                <div class="row g-0">
                                    <div class="col-md-12 position-relative">
                                        <div class="bg-light d-flex justify-content-center align-items-center" style="min-height: 300px;">
                                            <img src="@ViewBag.ResimUrl" class="img-fluid w-100 rounded" alt="Hedef Vücut" style="object-fit: cover; max-height: 500px;" loading="lazy">
                                        </div>
                                        <div class="position-absolute bottom-0 start-0 w-100 bg-dark bg-opacity-75 text-white p-2 text-center small">
                                            <i class="bi bi-robot"></i> Yapay Zeka Tarafından Oluşturulan Hedef Görünüm
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }

                        <div class="ai-response-box">
                            @Html.Raw(ViewBag.Cevap.Replace("\n", "<br>"))
                        </div>
                    </div>
                </div>
            }
            else
            {
                <div class="text-center text-muted py-5">
                    <i class="bi bi-activity fs-1 d-block mb-3"></i>
                    <p>Henüz bir program oluşturmadın. Sol taraftan bilgilerini girip butona bas!</p>
                </div>
            }
        </div>
    </div>
</div>